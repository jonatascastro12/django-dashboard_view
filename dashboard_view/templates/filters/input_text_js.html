{% load i18n %}
<script type="text/javascript">


    function filter_input_text_{{field_name}}_clear(){
        $('#id_filter_input_text_{{ field_name }}').val('');
        filter_input_text_{{ field_name }}_add();
    }

    function filter_input_text_{{ field_name }}_add(){
        DashboardFilters.add_filter({
            field: '{{ field_name }}',
            filter: 'input_text',
            data: {
                value: $('#id_filter_input_text_{{ field_name }}').val(),
            },
            clear: filter_input_text_{{field_name}}_clear
        });
    }

    filter_input_text_{{ field_name }}_add();

    $('#id_filter_input_text_{{ field_name }}').change(function(){
        filter_input_text_{{ field_name }}_add();
    });

    $('#clear_{{ field_name }}_input_text_button').click(function(){
        filter_input_text_{{ field_name }}_clear();
        console.log('reloaded');
        datatableview.initialized_datatables[0].api().ajax.reload();
    });
</script>
